---
import AboutMe from "../components/AboutMe.astro";
import Card from "../components/Card.astro";
import Code from "./icons/Code.astro";
import Skills from "./Skills.astro";
import NavBar from "./NavBar.astro";
import bgImage from "../assets/bg-image-4.webp"
import Html from './icons/Html.astro'
import Css from './icons/Css.astro'
import Arrow from './icons/Arrow.astro'
import Javascript from './icons/Js.astro'
import Contact from "./Contact.astro";
import soyFernando from "../assets/soy-fernando.svg"
import pokememoImg from "../assets/pokememo.webp"

---

<main class="bg-gradient-to-br from-black via-neutral-950 to-zinc-950 w-full min-h-screen flex flex-col items-center pt-[140px]">
  
<header class="w-full relative">
<NavBar />
</header>

<section class="w-full z-0 relative flex items-center justify-center h-[100vh] pb-[200px]">

 <!-- Imagen de fondo -->
<img class="absolute object-cover top-0 left-0 w-full h-[250px] sm:h-[700px] z-0" src={bgImage.src} alt="imagen de fondo" />

<!-- Contenedor principal -->
<div class="absolute top-0 left-0 w-full h-[250px] sm:h-[700px] z-10 flex items-center justify-center xl:-left-[200px] px-4">

  <!-- Texto centrado -->
  <div class="text-center sm:max-w-[600px]">
    <h1 class="text-[40px] sm:text-[80px] xl:text-[90px] text-white font-bold font-ibm leading-tight mt-10">
      ¿Necesitas un sitio web para tu negocio?
      <span class="relative w-full flex justify-center">
        <Arrow class="w-[40px] h-[40px] sm:w-[80px] sm:h-[80px] text-white mt-4 animate-bounce-down" />
      </span>
    </h1>
  </div>

</div>




    

    <!-- Avatar (Video) -->
    <div class="hidden xl:block relative w-full max-w-[500px] pt-[70px] mr-10">
      <div class="absolute -top-[200px] -right-[300px] ">
        <video
          autoplay
          muted
          loop
          playsinline
          class="w-[500px] h-[500px] object-cover pointer-events-none"
        >
          <source src="/videos/avatar-nuevo.webm" type="video/webm" />
          Tu navegador no soporta el video.
        </video>

        <!-- Globo de texto -->
        <div class="absolute top-[-90px] left-[290px] w-[300px]">
          <img src={soyFernando.src} alt="Globo de texto" />
        </div>
      </div>
    </div>

  </div>
</section>



  <!-- Sección Proyectos -->
  <section  style="animation-delay: 0.3s" class="px-4 py-8 max-w-[800px] mx-auto card animate-card">
    <h2 id="proyectos" class="text-[28px] sm:text-[35px] text-amarillo-texto border-b-4 border-white/60 pb-2 flex items-center font-ibm">
      Proyectos
      <Code class="w-[24px] ml-2 sm:w-[30px] mt-1 text-white" />
    </h2>

    <div class="gap-x-[100px] gap-y-[50px] mt-10 place-items-center">
      <article>
        <Card title="Pokememo" img={pokememoImg.src} text="Pokememo es un juego de cartas estilo memorama, está hecho con javascript vanilla, CSS y HTML." link="https://fernan2323.github.io/Projecto_Final_Js/game.html" repo="https://github.com/Fernan2323/Projecto_Final_Js.git" >
          <div class="flex gap-4">
            <Html class="w-[25px] h-[25px]" /> 
            <Css class="w-[25px] h-[25px]"  />
            <Javascript class="w-[25px] h-[25px]"  />

          </div>
          </Card>

           <Card title="Este es el título" text="Esta es la descripción de la aplicación web presentada">
            <div class="flex gap-4">
              <Html class="w-[25px] h-[25px]" /> 
              <Css class="w-[25px] h-[25px]"  />
              <Javascript class="w-[25px] h-[25px]"  />
  
            </div>
        </Card>

        <Card title="Este es el título" text="Esta es la descripción de la aplicación web presentada">
          <div class="flex gap-4 ">
            <Html class="w-[25px] h-[25px]" /> 
            <Css class="w-[25px] h-[25px]"  />
            <Javascript class="w-[25px] h-[25px]"  />

          </div>
          </Card>
      </article>
    </div>
  </section>

  <!-- Sección AboutMe + Avatar -->
  <section style="animation-delay: 0.3s" class="w-full max-w-[1200px] flex flex-col items-center mt-[200px] px-4 min-h-[100vh] relative card animate-card">
    <AboutMe />
    
    <video
      autoplay
      muted
      loop
      playsinline
      class="relative w-[1000px] object-contain pointer-events-none z-10"
    >
      <source src="/videos/avatar-reloj.webm" type="video/webm" />
      Tu navegador no soporta el video.
    </video>
  </section>

  <!-- Formulario de Contacto -->
  <section style="animation-delay: 0.3s" id="contacto" class="h-[50vh] mt-[200px] card animate-card mb-[500px]">
    <Contact />
  </section>

  <!-- Sección Skills -->
  <section>
    <Skills />
  </section>

</main>

    
    <style>
      /* Evita márgenes negativos que puedan causar desbordamiento */
      main {
  width: 100%;
  overflow-x: hidden;
}

      /* Animaciones más largas */
      @keyframes slideLeft {
        from {
          opacity: 0;
          transform: translateX(-150px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
    
      @keyframes slideRight {
        from {
          opacity: 0;
          transform: translateX(150px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
    
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.85);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
    
      /* Secciones ocultas por defecto */
      .section {
        opacity: 0;
        transform: translateY(50px);
        transition: opacity 1s ease-out, transform 1s ease-out;
      }
    
      /* Aplicar animaciones solo cuando aparecen en la vista */
      .section.visible {
        opacity: 1;
        transform: translateY(0);
      }
    
      /* Animaciones específicas de entrada */
      .animate-left {
        opacity: 0;
        transform: translateX(-150px);
        transition: opacity 1.2s ease-out, transform 1.2s ease-out;
      }
    
      .animate-right {
        opacity: 0;
        transform: translateX(150px);
        transition: opacity 1.2s ease-out, transform 1.2s ease-out;
      }
    
      .animate-card {
        opacity: 0;
        transform: scale(0.85);
        transition: opacity 1s ease-out, transform 1s ease-out;
      }
    
      /* Hacer que las tarjetas se activen con el scroll */
      .card.visible {
        opacity: 1;
        transform: scale(1);
      }
    </style>
    
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const sections = document.querySelectorAll(".section");
        const cards = document.querySelectorAll(".card");
    
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
              }
            });
          },
          { threshold: 0.2 }
        );
    
        sections.forEach((section) => {
          observer.observe(section);
        });
    
        cards.forEach((card) => {
          observer.observe(card);
        });
      });
    </script>
    
    


</div>

